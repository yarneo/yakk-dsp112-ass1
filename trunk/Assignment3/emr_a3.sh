#!/bin/sh
date
elastic-mapreduce --create --name LearningFlow --master-instance-type m1.large --slave-instance-type m1.large --num-instances 3 --bootstrap-action s3://elasticmapreduce/bootstrap-actions/create-swap-file.rb --args "-e,/mnt/swap,8192" --bootstrap-action s3://elasticmapreduce/bootstrap-actions/configure-hadoop --args "-s","dfs.block.size=33554432","-s","mapred.output.compress=true","-s","mapred.compress.map.output=true","-s","mapred.map.output.compression.codec=com.hadoop.compression.lzo.LzoCodec","-s","mapred.output.compression.type=BLOCK","-s","mapred.output.compression.codec=com.hadoop.compression.lzo.LzoCodec","-s","mapred.job.reuse.jvm.num.task=1" --enable-debugging --jar s3n://kobyk/learningalgo.jar --arg 0 --arg s3n://datasets.elasticmapreduce/ngrams/books/20090715/heb-all/5gram/data heb-all.dat --arg hdfs:///la/out1ngrams --arg hdfs:///la/out2id --arg hdfs:///la/out3wrd --arg hdfs:///la/out4ctx --arg hdfs:///la/out5wrdjoin --arg hdfs:///la/out6wrdsum --arg hdfs:///la/out7ctxjoin --arg hdfs:///la/out8ctxsum --arg hdfs:///la/out9nrmsum --arg hdfs:///la/out10nrm --arg s3n://kobyk/output_uniform --arg 0 --step-name LearningStep

